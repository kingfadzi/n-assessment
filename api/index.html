<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts Process Tree Example</title>
    <script src="js/echarts.min.js"></script> <!-- Path to your local echarts.min.js -->
    <style>
        /* Remove any height restrictions */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            /* Allow body to grow with content */
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        #main {
            width: 100%;
            border: 1px solid #ccc; /* Optional: border for visibility */
        }
    </style>
</head>
<body>
<div id="main"></div>
<script type="text/javascript">
    // Fetch the JSON data from the local file system
    fetch('data/data.json') // Path to your local JSON file
        .then(response => response.json())
        .then(data => {
            var chart = echarts.init(document.getElementById('main'));

            // Define the chart options
            var option = {
                tooltip: {
                    trigger: 'item',
                    triggerOn: 'mousemove',
                    formatter: function(params) {
                        return `${params.data.name}<br/>Type: ${params.data.type}<br/>Description: ${params.data.description}`;
                    }
                },
                series: [
                    {
                        type: 'tree',
                        data: data,  // Use the data fetched from the JSON file
                        top: '1%',
                        left: '7%',
                        bottom: '1%',
                        right: '20%',
                        symbolSize: 10,
                        label: {
                            position: 'left',
                            verticalAlign: 'middle',
                            align: 'right',
                            fontSize: 14
                        },
                        leaves: {
                            label: {
                                position: 'right',
                                verticalAlign: 'middle',
                                align: 'left'
                            }
                        },
                        expandAndCollapse: true,
                        initialTreeDepth: 3,
                        animationDuration: 550,
                        animationDurationUpdate: 750,
                        roam: true,  // Enable panning and zooming
                        layout: 'orthogonal'  // Layout for better scrolling experience
                    }
                ]
            };

            chart.setOption(option);

            // Adjust the container height dynamically based on the content
            chart.resize();
        })
        .catch(error => {
            console.error('Error loading the JSON data:', error);
        });
</script>
</body>
</html>
